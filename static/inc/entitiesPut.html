<div class="form-container">
  <div class="form-header">
    <button class="method-button put-button" onclick="handlePatchQuery(document.getElementById('entityPutInput').value, document.getElementById('jsonDisplay').textContent)">PUT</button>
  </div>
  <div class="form-body">
    <label for="entityPutInput">Entity ID:</label>
    <input type="text" id="entityPutInput" class="input" placeholder="Enter the entity ID" value="urn:ngsi-ld:TG8I:240825003">
    <pre id="jsonDisplay"><code class="language-json">{
  "id": "urn:ngsi-ld:TG8I:240825003",
  "type": "TG8I",
  "@context": [
    "http://ngsi-ld.sensorsreport.net/synchro-context.jsonld"
  ],
  "APIKey": {
    "type": "Property",
    "value": "dP1JO6"
  },
  "accessPointName": {
    "type": "Property",
    "value": "Synchro-WiFi"
  },
  "accessPointPassword": {
    "type": "Property",
    "value": "supersecure"
  },
  "dhcp": {
    "type": "Property",
    "value": true
  },
  "gw": {
    "type": "Property",
    "value": "192.168.1.1"
  },
  "nm": {
    "type": "Property",
    "value": "255.255.255.0"
  },
  "mac": {
    "type": "Property",
    "value": "00:1A:2B:3C:4D:5E"
  },
  "missedTX": {
    "type": "Property",
    "value": 0
  },
  "otaFileName": {
    "type": "Property",
    "value": "firmware_v1.2.bin"
  },
  "otaHostName": {
    "type": "Property",
    "value": "ota.synchro-srl.ro"
  },
  "otaPort": {
    "type": "Property",
    "value": 8080
  },
  "power": {
    "type": "Property",
    "value": true
  },
  "rssi": {
    "type": "Property",
    "value": -55
  },
  "rx": {
    "type": "Property",
    "value": 100
  },
  "tx": {
    "type": "Property",
    "value": 4
  },
  "sampleTime": {
    "type": "Property",
    "value": 900
  },
  "vbat": {
    "type": "Property",
    "value": 3.7
  },
  "timestamp": {
    "type": "Property",
    "value": "2025-04-02T10:15:00Z"
  }
}</code></pre>
  </div>
  <div class="form-footer">
    <small>This form replaces an entity in the Orion-LD Context Broker.</small>
  </div>
</div>

<script>
  // Load saved values from localStorage when the page is loaded
  document.addEventListener('DOMContentLoaded', function() {
    // Load entity ID input value
    const savedEntityId = localStorage.getItem('entityPutInputText');
    if (savedEntityId) {
      document.getElementById('entityPutInput').value = savedEntityId;
    }
    
    // Load JSON textarea value
    const savedJsonInput = localStorage.getItem('jsonDisplay');
    if (savedJsonInput) {
      document.getElementById('jsonDisplay').textContent = savedJsonInput;
    }
  });
</script>

